<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" \>
    <meta name="description" content="Andrew De Ponte's Blog on Ruby, Ruby on Rails, Javascript, jQuery, and software development and engineering in general." />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <title> Home |  Andrew De Ponte, Software Engineer</title>

    <link rel="stylesheet" href="/css/all.css" />
    <script type="text/javascript" src="/javascript/all.js"></script>

    <link href="http://coderwall.com/stylesheets/jquery.coderwall.css" rel="stylesheet" media="all" type="text/css" />
    <script src="http://coderwall.com/javascripts/jquery.coderwall.js"></script>
  </head>
  <body>
    <nav id="primary_nav">
      <ul>
        <li><a href="/">Blog</a></li>
        <li><a href="/files/resume.pdf">Resume</a></li>
      </ul>
    </nav>
    <header>
      <a href="http://github.com/cyphactor"><img style="position: absolute; top: 0; left: 0; border: 0;" src="/images/fork_me_on_github.png" alt="Fork me on GitHub"></a>
      <h1 id="site_title">Drew's World</h1>
      <div id="site_subtitle">Rants, News, Etc on my Life and Projects</div>
    </header>
    <div id="container">
      <div id="main_content">
        
  <article class='blog-post'>
  <header>
    <h2 class='title'><a href="/2009/07/25/house-demo-day-1.html">House Demo Day 1</a></h2>
    <div class='posted-info'>
      <time datetime='2009-07-25T00:00:00Z' pubdate='pubdate' class='published-datetime'>July 25, 2009</time>
      <span>by</span>
      <a href="http://github.com/cyphactor">Andrew De Ponte ( @cyphactor )</a>
    </div>
  </header>

  <section>
    <p>As some of you may know from previous posts. I recently bought my first house which is very much a fixer upper. Anyways, today Aly and I just completed the first day of demo and here is a small walk through with Aly&#8217;s new HD Flip.</p>
<iframe allowFullScreen='allowFullScreen' frameborder='0' height='382' mozallowfullscreen='mozallowfullscreen' src='http://player.vimeo.com/video/10447735 ' webkitAllowFullScreen='webkitAllowFullScreen' width='680'>useless text to fix fail to render rest of post issue</iframe>
  </section>

  <footer>
    
    <span class="tag">Demo</span>
    
    <span class="tag">Flip</span>
    
    <span class="tag">HD</span>
    
    <span class="tag">House</span>
    
    <span class="tag">Video</span>
    
    <span class="tag">Personal</span>
    
  </footer>
</article>


  <article class='blog-post'>
  <header>
    <h2 class='title'><a href="/2009/07/21/bought-my-first-house.html">Bought My First House</a></h2>
    <div class='posted-info'>
      <time datetime='2009-07-21T00:00:00Z' pubdate='pubdate' class='published-datetime'>July 21, 2009</time>
      <span>by</span>
      <a href="http://github.com/cyphactor">Andrew De Ponte ( @cyphactor )</a>
    </div>
  </header>

  <section>
    <p>Few, the stress and hesitation is over with. Today, I closed on my first house. I am now a home owner. Can you believe that? I can&#8217;t. It hasn&#8217;t really settled in yet that I now own my own home. Now, the excitement and overwhelming feeling comes of the massive project that is a fixer upper house. However, with that also comes the great satisfaction and feeling of accomplishment after I make every addition step towards my goals for this house.</p>

<p>Everyone keeps telling me that the tasks around the house will never end. I am sure they are right, but that is also part of what I love about it. It continually evolves as technology and time progress just as any good software does. Beyond that, I now get to make sure that it is the way I want it. In fact the two primary factors I took into consideration while looking for houses were Location, Location, Location, Location and a good base (framing, foundation) to start from. Oh, and I of course had to consider the money part as well. Luckily I found a repo that needed a lot of work but had an awesome location and fell just within my budget.</p>

<p>Buying this house was a very difficult decision to make as I am currently involved in a number of side software projects besides my normal full time job. However, everything seemed to fall into place and it felt like the right time. So, after weeks and weeks of contemplation and discussion with friends and family I finally decided to take the leap, and here I am now a home owner. Oh the life!</p>
  </section>

  <footer>
    
    <span class="tag">House</span>
    
    <span class="tag">Purchased</span>
    
    <span class="tag">Personal</span>
    
  </footer>
</article>


  <article class='blog-post'>
  <header>
    <h2 class='title'><a href="/2009/07/01/ajax-request-generated-javascript.html">Ajax Request Generated JavaScript</a></h2>
    <div class='posted-info'>
      <time datetime='2009-07-01T00:00:00Z' pubdate='pubdate' class='published-datetime'>July 01, 2009</time>
      <span>by</span>
      <a href="http://github.com/cyphactor">Andrew De Ponte ( @cyphactor )</a>
    </div>
  </header>

  <section>
    <p>Hi all. Recently I was working on a web application that utilized JavaScript and AJAX. Who would have guessed. Anyways, I ran into a bit of a snag when I had the AJAX requests result defining a JavaScript snippet. The problem was that AJAX requests strip out script tags and don&#8217;t let them get inserted into the DOM tree. I am not sure why this is the case, maybe for some security reason that I have yet to see. Anyways, this creates a bit of a problem when you are trying to do things like use a JavaScript calendar widget inside the AJAX result set when the calendar widget needs to be initialized by some JavaScript code that is unique to that calendar.</p>

<p>Despite all my efforts in googling I failed to find a clearly defined solution. Bits of the sites have clues but none of them had actual solutions with enough detail to make it reproducible. Hence, after exploring all of these hints and all of the combinations of the hints I managed to find a working solution for using JavaScript that is dynamically generated as part of the result of an AJAX call.</p>

<p>Lets assume that you are using Prototype because I was, and it is a very common AJAX JavaScript library. The first thing I looked to find out was if there was an event fired off to the portion that is generated by AJAX request. The answer is, not that I could find. There are events in the top level document but none which really help you. Since, there are no events or callbacks in the child document (one produced by the ajax call and loaded into the top level) and no script tags carried through to the top level document we first have to figure out a way to get the JavaScript code to the top level document and then secondarily have JavaScript evaluate it.</p>

<p>In order to get the script tags content to the top level document I had to create a div that contained the raw content of the script tag that I wanted available. Beyond that the div had to have a unique ID that was able to be obtained programatically in the top level document using JavaScript. An example of this might look as follows (html.erb template of JavaScript):</p>
<div class='highlight'><pre><code class='html'>  <span class='nt'>&lt;div</span> <span class='na'>id=</span><span class='s'>&quot;&lt;%= calendar_id %&gt;_script&quot;</span> <span class='na'>style=</span><span class='s'>&quot;display: none;&quot;</span><span class='nt'>&gt;</span>;
  <span class='err'>&lt;</span>%= calendar_id %&gt;SelectHandler = function(type, args, obj){
    var selected = args[0];
    var selDate = selected[0][0] + &quot;-&quot; + selected[0][1] + &quot;-&quot; + selected[0][2];
    <span class='err'>&lt;</span>% if txt_input_id.nil? %&gt;
      document.getElementById(&quot;<span class='err'>&lt;</span>%= calendar_namespace %&gt;_<span class='err'>&lt;</span>%= calendar_id %&gt;&quot;).value = selDate;
      <span class='err'>&lt;</span>%= calendar_id %&gt;hide();
    <span class='err'>&lt;</span>% else %&gt;
      document.getElementById(&quot;<span class='err'>&lt;</span>%= txt_input_id %&gt;&quot;).value = selDate;
      <span class='err'>&lt;</span>%= calendar_id %&gt;hide();
    <span class='err'>&lt;</span>% end %&gt;
  }

  <span class='err'>&lt;</span>%= calendar_id %&gt;show = function (){
    var cur_z = $(&#39;<span class='err'>&lt;</span>%= calendar_container %&gt;&#39;).style.zIndex;
    if (!cur_z) {
      cur_z = 1;
    } else {
      cur_z = parseInt(cur_z);
    }
    $(&#39;<span class='err'>&lt;</span>%= calendar_container %&gt;&#39;).show();
    $(&#39;<span class='err'>&lt;</span>%= calendar_container %&gt;&#39;).style.zIndex = (cur_z + 1);
  }

  <span class='err'>&lt;</span>%= calendar_id %&gt;hide = function(){
    var cur_z = $(&#39;<span class='err'>&lt;</span>%= calendar_container %&gt;&#39;).style.zIndex;
    if (!cur_z) {
      cur_z = 1;
    } else {
      cur_z = parseInt(cur_z);
    }
    $(&#39;<span class='err'>&lt;</span>%= calendar_container %&gt;&#39;).hide();
    $(&#39;<span class='err'>&lt;</span>%= calendar_container %&gt;&#39;).style.zIndex = (cur_z - 1);
  }

  YAHOO.namespace(&quot;<span class='err'>&lt;</span>%= calendar_namespace %&gt;.<span class='err'>&lt;</span>%= calendar_id %&gt;&quot;);
  YAHOO.<span class='err'>&lt;</span>%= calendar_namespace %&gt;.<span class='err'>&lt;</span>%= calendar_id %&gt;.init = function() {
    YAHOO.<span class='err'>&lt;</span>%= calendar_namespace %&gt;.<span class='err'>&lt;</span>%= calendar_id %&gt;.Cal = new YAHOO.widget.Calendar(&quot;<span class='err'>&lt;</span>%= calendar_id %&gt;&quot;,&quot;<span class='err'>&lt;</span>%= calendar_container %&gt;&quot;, <span class='err'>&lt;</span>%= @opts %&gt;);

    YAHOO.<span class='err'>&lt;</span>%= calendar_namespace %&gt;.<span class='err'>&lt;</span>%= calendar_id %&gt;.Cal.selectEvent.subscribe(<span class='err'>&lt;</span>%= calendar_id %&gt;SelectHandler, YAHOO.<span class='err'>&lt;</span>%= calendar_namespace %&gt;.<span class='err'>&lt;</span>%= calendar_id %&gt;.Cal, true);
    YAHOO.<span class='err'>&lt;</span>%= calendar_namespace %&gt;.<span class='err'>&lt;</span>%= calendar_id %&gt;.Cal.render();
  }
<span class='nt'>&lt;/div&gt;</span>
</code></pre>
</div>
<p>This div with a unique id gives me the capability of pulling out the associated raw JavaScript that is the innerHTML content of this div in the top level document and having the top level documents JavaScript evaluate it. This can be done with a JavaScript function like the following:</p>
<div class='highlight'><pre><code class='html'>function createRowEditCalendar(id) {
  var script = document.getElementById(&quot;cal_visited_on_&quot; + id + &quot;_script&quot;).innerHTML;
  eval(script);
  var my_init_cmd = &quot;YAHOO.namespace_o_hell.cal_visited_on_&quot; + id + &quot;.init();&quot;;
  eval(my_init_cmd);
  return true;
}
</code></pre>
</div>
<p>The next logical question of course is what event or callback launches the above JavaScript function in the top level document. The answer in this case is simply to use the Prototypes Ajax.Updater onComplete callback by having it first programatically figure out the name of the div using the reproducible naming scheme and then call the above JavaScript function passing it the necessary id to access the hidden JavaScript div. This might look something like the following:</p>
<div class='highlight'><pre><code class='html'><span class='nt'>&lt;input</span> <span class='na'>type=</span><span class='s'>&quot;button&quot;</span> <span class='na'>id=</span><span class='s'>&quot;rowedit_create_button&quot;</span> <span class='na'>value=</span><span class='s'>&quot;Create&quot;</span> <span class='na'>onclick=</span><span class='s'>&quot;new Ajax.Updater(&lt;% if prefix %&gt; &#39;&lt;%= prefix %&gt;_rowedit_data_rows&#39; &lt;% else %&gt; &#39;rowedit_data_rows&#39; &lt;% end %&gt;, &#39;&lt;%= urls[:create] %&gt;&#39;, {asynchronous:true, parameters:$(&lt;% if prefix %&gt; &#39;&lt;%= prefix %&gt;_rowedit_create_form&#39; &lt;% else %&gt; &#39;rowedit_create_form&#39; &lt;% end %&gt;).serialize(), insertion: Insertion.Bottom, onComplete: function() { var drows = document.getElementById(&#39;rowedit_data_rows&#39;); var last_row_id = drows.lastChild.id; last_row_id = last_row_id.replace(&#39;edit_&#39;, &#39;&#39;); last_row_id = last_row_id.replace(&#39;_row&#39;, &#39;&#39;); createRowEditCalendar(last_row_id); } });&quot;</span><span class='nt'>/&gt;</span>
</code></pre>
</div>
<p>Assuming that you have those three components in place and properly setup with all the syntax correct you should have a working solution. Note: Be very careful of syntax errors in the JavaScript inside the eval() method because FireBug won&#8217;t detect them, or run-time errors in the JavaScript anywhere because not all of them will be detected by FireBug. Anyways, hope this helps someone out there, it sure would have helped me if I had it.</p>
  </section>

  <footer>
    
    <span class="tag">Ajax</span>
    
    <span class="tag">Dynamic</span>
    
    <span class="tag">JavaScript</span>
    
    <span class="tag">Prototype</span>
    
    <span class="tag">Software Development</span>
    
  </footer>
</article>


  <article class='blog-post'>
  <header>
    <h2 class='title'><a href="/2009/06/21/iphone-app-loading-screen.html">iPhone App Loading Screen</a></h2>
    <div class='posted-info'>
      <time datetime='2009-06-21T00:00:00Z' pubdate='pubdate' class='published-datetime'>June 21, 2009</time>
      <span>by</span>
      <a href="http://github.com/cyphactor">Andrew De Ponte ( @cyphactor )</a>
    </div>
  </header>

  <section>
    <p>Hi all. If you don&#8217;t know already I have been playing with some iPhone app development pretty heavy lately. One of the interesting things which was some what more difficult to find was how to create a loading screens in iPhone apps. After I bit of googling and some reading of different forums I finally narrowed it down. It is handled automatically if you simply created a PNG file called Default.png that is 320 x 240 pixels with a 160 ppi and place it in your projects Resources file. Once in you Resources it will be displayed during the time that the application is loading. If you need to extend the time to get your splash screen to stay on the screen because your code is god like and fast simply tack a sleep or something in your applicationDidFinishLaunching method.</p>
  </section>

  <footer>
    
    <span class="tag">Development</span>
    
    <span class="tag">Loading Screen</span>
    
    <span class="tag">iPhone</span>
    
    <span class="tag">Software Development</span>
    
  </footer>
</article>



<!-- Pagination links -->
<div class="pagination">
  
    
      <a href="/page10" class="previous">Prev</a>
    
  
  <span class="page_number ">11 of 11</span>
  
    <span class="next">Next</span>
  
</div>

      </div>
      <aside id="side_bar">
        <div>
          <img src="/images/drew_bald_original_cropped.png" />
        </div>
        <div>
          <a href="/atom.xml" class='rss_icon'></a>
          <a href="http://www.linkedin.com/pub/andrew-de-ponte/1b/630/b38" class='linkedin_icon'></a>
          <a href="aim:goim?screenname=andrew.deponte@gmail.com" class='aim_icon'></a>
          <a href="skype:cyphactor?chat" class='skype_icon'></a>
          <a href="http://twitter.com/#!/cyphactor" class='twitter_icon'></a>
          <a href="ymsgr:sendim?a_deponte" class='yahoo_icon'></a>
          <a href="http://vimeo.com/user3451180" class='vimeo_icon'></a>
          <a href="/files/Andrew%20De%20Ponte.vcf" class='vcard_icon'></a>
          <a href="http://www.facebook.com/andrewdeponte" class='facebook_icon'></a>
          <a href="gtalk:chat?jid=cyphactor" class='google_icon'></a>
        </div>
        <div>
          <section style="margin-left: 26px;" class="coderwall" data-coderwall-username="cyphactor" data-coderwall-orientation="vertical"></section>
          <div style="clear: both;"></div>
        </div>
      </aside>
      <div style="clear: both;"></div>
    </div>
    <footer>
      Copyright &copy; 2012, Andrew De Ponte. All rights reserved.
    </footer>
  </body>
  <head>
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
  </head>
</html>
